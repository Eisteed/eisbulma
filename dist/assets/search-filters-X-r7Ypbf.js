(function(o){const i=o("#woo-filters-form"),a=o("#woo-products .woo-products-inner"),r=o("#woo-filters");o("#woo-filter-open").on("click",function(){r.addClass("is-open")}),o("#woo-filter-close").on("click",function(){r.removeClass("is-open")});function c(n){const s=i.serializeArray(),t={action:"woo_bulma_filter_products",nonce:WooBulmaFilters.nonce};s.forEach(e=>t[e.name]=e.value),n&&(t.page=n);const l=new URL(window.location);return l.search=o("#woo-filters-form").serialize(),history.replaceState({},"",l),a.addClass("is-loading"),o.post(WooBulmaFilters.ajaxUrl,t).done(function(e){e&&e.success&&a.html(e.data.html)}).always(function(){a.removeClass("is-loading"),r.removeClass("is-open")})}i.on("change",'select, input[type="checkbox"]',function(){c(1)}),i.on("submit",function(n){n.preventDefault(),c(1)}),o("#woo-filters-reset").on("click",function(){i[0].reset(),c(1)}),o(document).on("click",".pagination a",function(n){const s=o(this).attr("href");if(!s)return;const t=s.match(/[?&]paged=(\d+)/);t&&(n.preventDefault(),c(parseInt(t[1],10)))})})(window.jQuery);
