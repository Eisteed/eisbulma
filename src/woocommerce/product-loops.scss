@charset "utf-8";

@use "../bulma-cfg" as *;


// Product Loop styles
.woocommerce {
  .woocommerce-ordering {
    @extend .select, .is-primary, .is-normal;
    .orderby{
      height:auto !important;
    }
  }

  // Product wrapper
  ul.products {
    @extend .columns, .is-multiline, .is-mobile;
    padding: 0;
    margin: 0;

    li.product {
      @extend .column;
      @extend .is-half-mobile;
      @extend .is-one-third-tablet;
      @extend .is-one-quarter-desktop;
      margin: 0;
      display: flex;
      flex-direction: column;


      // Product image container
      .woocommerce-loop-product__link {
        a {
          &:hover {
            .card-content {
              h2:first-of-type {
                text-decoration: underline;
              }
            }
          }
        }
        padding: 0;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        &:first-child {
          border-radius: 0;
        }
        .card-image {
          overflow: hidden;
          width: 100%;
          border-radius:var(--bulma-radius) var(--bulma-radius) 0 0;
          max-height: 15rem;
        }

        // Image hover effect
        img {

          object-fit: cover;
          object-position: center;
          width: 100%;
          transition: transform 0.3s ease;

          &:hover {
            transform: scale(1.05);
          }
        }

        // Sale flash
        .onsale {
          @extend .tag;
          @extend .is-medium;
          transform: rotateZ(-10deg) translate(-1rem, -1rem);
          background-color: $danger;
          color:white;
          position: absolute;
          top: 0.75rem;
          left: 0.75rem;
          z-index: 2;
        }

        .add_to_cart_button {
          margin: 1rem;
        }

        a.added_to_cart.wc-forward {
          display: none;
        }
      }


      .woocommerce-loop-product__title {
        @extend .title;
        @extend .is-5;
        margin-bottom: 0.5rem;

        a {
          color: $grey-dark;

          &:hover {
            color: $primary;
          }
        }
      }

      // Price
      .price {
        @extend .subtitle;
        @extend .is-6;
        margin-bottom: 1rem;

        ins {
          color: $primary;
          text-decoration: none;
          font-weight: bold;
          margin-right: 0.5rem;
        }

        del {
          color: $grey-light;
          opacity: 0.7;
        }
      }

      // Star rating
      .star-rating {
        margin-bottom: 0.5rem;
        color: #ffdd57; 
      }

      // Product footer
      .product-footer {
        @extend .card-footer;
        margin-top: auto;

        .add_to_cart_button {
          @extend .button;
          @extend .is-primary;
          @extend .is-outlined;
          @extend .is-fullwidth;
          margin: 0.75rem;

          &.added {
            @extend .is-primary;
            @extend .is-light;
          }

          &.loading {
            opacity: 0.7;
          }
        }

        .added_to_cart {
          @extend .button;
          @extend .is-link;
          @extend .is-small;
          @extend .is-light;
          margin: 0 0.75rem 0.75rem;
          text-align: center;
        }
      }

      // Additional product loop elements
      .product_type_variable {
        @extend .button;
        @extend .is-warning;
        @extend .is-outlined;
      }

      .product_type_grouped {
        @extend .button;
        @extend .is-info;
        @extend .is-outlined;
      }
    }
  }

  // Product results count and ordering
  .woocommerce-result-count {
    @extend .help;
    margin-bottom: 1rem;
  }

  .woocommerce-ordering {
    margin-bottom: 1.5rem;

    select {
      @extend .select;
      display: inline-block;
    }
  }

  // Pagination
  .woocommerce-pagination {
    @extend .pagination;
    margin-top: 2rem;

    ul.page-numbers {
      @extend .pagination-list;

      li {
        margin: 0 0.25rem;

        .page-numbers {
          @extend .pagination-link;

          &.current {
            @extend .is-current;
          }
        }

        .prev,
        .next {
          @extend .pagination-previous;
          @extend .pagination-next;
        }
      }
    }
  }
}